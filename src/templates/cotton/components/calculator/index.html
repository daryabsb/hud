
<div class="card" style="width: 21.1rem;">
    <div class="card-header fw-bold p-0" id="message"
        htmx::after-settle="htmx.find('#calculator-display-{{ display }}').focus(); console.log(htmx.find('#calculator-display-{{ display }}'))"
        >
        <div class="border-bottom px-3 py-3"><h5 class="modal-title">MODAL TITLE</h5></div>
        <c-components.calculator.display id="{{ display }}" />
    </div>
    <div class="card-body">
        <div class="mb-3">
           
        <div class="btn-group gap-3 w-100">
            <label class="btn fs-4 btn-outline-theme text-center labe-sign"

            hx-on:click="
            htmx.findAll('.labe-sign').forEach(el => {
                el.classList.remove('btn-theme');
                el.classList.add('btn-outline-theme');
            });

            var icon = htmx.find('#discount-sign-icon-{{ display }}');
            var discountSign = htmx.find('#discount-sign-{{ display }}');
            this.classList.remove('btn-outline-theme');
            this.classList.add('btn-theme');
            if(icon.classList.contains('fa-dollar-sign')) {
                console.log(icon.classList.contains('fa-dollar-sign'));
                icon.classList.remove('fa-dollar-sign');
                icon.classList.add('fa-percent');
            };
            discountSign.value = 0;
            ">
                <input type="radio" class="d-none" id="discount-sign-0" name="payment-type" value="0" checked="true">
                <i class="fas fa-lg fa-fw me-2 fa-percent"></i>
            </label>
            <label class="btn fs-4 btn-outline-theme text-center labe-sign"
            hx-on:click="
            htmx.findAll('.labe-sign').forEach(el => {
                el.classList.remove('btn-theme');
                el.classList.add('btn-outline-theme');
            });
            var icon = htmx.find('#discount-sign-icon-{{ display }}');
            var discountSign = htmx.find('#discount-sign-{{ display }}');
            this.classList.remove('btn-outline-theme');
            this.classList.add('btn-theme');
            if(icon.classList.contains('fa-percent')) {
            console.log(icon.classList.contains('fa-percent'));
                icon.classList.remove('fa-percent');
                icon.classList.add('fa-dollar-sign');
                console.log(icon.classList);
            };
            discountSign.value = 1;
            "
           >
            <input type="radio" class="d-none" id="discount-sign-1" name="payment-type" value="1"
            >
            <i class="fas fa-lg fa-fw me-2 fa-money-bill-alt"></i>
        </label>
<button 
    type="button" 
    class="btn btn-outline-theme text-center fs-4" 
    
    hx-on:click="
        let display = htmx.find('#calculator-display-{{ display }}');
        display.value = display.value.slice(0, -1);
        display.focus();
    "
>
<i class="fas fa-lg fa-fw me-2 fa-arrow-left"></i></button>
        </div>
    </div>
        {% for row in digits %}
        <div class="mb-3">
        <div class="btn-group gap-3">
            {% for digit in row %}
            <c-components.calculator.button />
            {% endfor %}
        </div>
        </div>
        {% endfor %}
    </div>
    <div class="card-footer">
        <button type="button" class="btn btn-default me-3" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-outline-theme"
            {% if is_ajax %}
                hx-post="{{ url }}"
                hx-swap="outerHTML" 
            {% else %} 
                hx-post="{% url 'pos:calculate' %}" 
                hx-swap="none" 
                hx-on::after-request="htmx.find('#{{ el_id }}').value = (JSON.parse(event.detail.xhr.responseText).message)"
            {% endif %}
            hx-trigger="click" 
            hx-include="#modal-discount-form-{{ display }}"
            hx-target="#{{ el_id }}"
            data-bs-dismiss="modal" 
        >Save changes</button>
    </div>

    <c-card-arrow />
</div>

<!-- htmx.find('#{{ el_id }}').value = htmx.; -->
<!-- form-control w-50px text-center mx-2    fw-bold  bg-inverse bg-opacity-15 border-0  -->
<!-- form-control w-50px text-center mx-2    form-control-sm  bg-white bg-opacity-25  -->