{% load widget_tweaks %}
{% comment %} hx-include="#added-products" {% endcomment %}
	{% comment %} hx-target="#add-document-items-detail" {% endcomment %}
<form  
	hx-post="{% url 'mgt:add-document-items'  %}"
    hx-target="#add-document-item-to-table"
    hx-swap="beforeend"
	class="modal-dialog modal-right">
	<div 
		class="modal-content">
	<div class="modal-header">
		<h5 class="modal-title">Add product to document</h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
	</div>
	<div class="modal-body overflow-y-auto" >
		<div class="tab-pane fade show active mb-5" id="add-product-stock-control">
			<div class="mb-5">
                <a href="#" class="list-group-item list-group-item-action d-flex align-items-center text-inverse">
                    <div class="w-100px h-100px d-flex align-items-center justify-content-center ms-n1 bg-white p-1">
                        <img src="{{ product.img }}" alt="" class="mw-100 mh-100">
                    </div>
                    <div class="flex-fill px-3">
                        <div class="fw-bold h2">{{ product.name }}</div>
                        <div class="h3 text-inverse text-opacity-50">{{ product.parent_group.name }}</div>
                    <div class="d-flex align-items-center fs-11px">
                    
                    </div>
                    </div>
                    
                    </a>
            </div>
			<div class="mb-4">
				<label class="form-label">{{ form.quantity.label }}</label>
				{{ form.quantity }}
			</div>
			<div class="mb-4">
				<label class="form-label">{{ form.price_before_tax.label }}</label>
				{{ form.price_before_tax }}
			</div>
			{% comment %} <div class="mb-4">
				<label class="form-label">{{ form.product_cost.label }}</label>
				{{ form.product_cost }}
			</div> {% endcomment %}
			<div class="mb-4">
				<label class="form-label">{{ form.tax.label }}</label>
				{{ form.tax }}
			</div>
			<div class="mb-4">
				<label class="form-label">{{ form.price.label }}</label>
				{{ form.price }}
			</div>
			<div class="row mb-4">
				<label class="form-label">{{ form.discount.label }}</label>
				<div class="input-group">
					{% render_field form.discount_type %}
					{% render_field form.discount %}
					<span class="input-group-text" id="discount-type-sign">%</span>
				</div>
			</div>
			<div class="mb-4">
				<label class="form-label">{{ form.total_before_tax.label }}</label>
				{{ form.total_before_tax }}
			</div>
			<div class="mb-4">
				<label class="form-label">{{ form.total.label }}</label>
				{{ form.total }}
			</div>
				{{ form.product }}
		</div>
		<div class="modal-footer">
			<a 
				href="#" 
				class="btn btn-outline-default" 
				data-bs-dismiss="modal"
				>Cancel</a>
			<button 
            type="submit"  
            class="btn btn-outline-theme"
            data-bs-dismiss="modal"
            >Submit</button>
		</div>
	</div>
</form>